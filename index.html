<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BookForge - Professional AI Non-Fiction Book Generator | Create Expert Content</title>
    
    <!-- SEO Meta Tags -->
    <meta name="description" content="Generate professional, research-backed non-fiction books with AI. Create authoritative business guides, self-help books, and expert content with evidence-based methodologies. Free book generator tool.">
    <meta name="keywords" content="AI book generator, non-fiction writing, business books, professional content, research-backed writing, book creation tool, AI writing assistant, expert content generator">
    <meta name="author" content="BookForge">
    <meta name="robots" content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1">
    <meta name="language" content="English">
    <meta name="revisit-after" content="7 days">
    <meta name="rating" content="General">
    
    <!-- Canonical URL -->
    <link rel="canonical" href="https://bookforge.ink/">
    
    <!-- Enhanced Open Graph -->
    <meta property="og:title" content="BookForge - Professional AI Non-Fiction Book Generator">
    <meta property="og:description" content="Generate professional, research-backed non-fiction books with AI. Create authoritative guides, business books, and expert content with evidence-based methodologies.">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://bookforge.ink/">
    <meta property="og:site_name" content="BookForge">
    <meta property="og:image" content="https://bookforge.ink/og-image.jpg">
    <meta property="og:image:width" content="1200">
    <meta property="og:image:height" content="630">
    <meta property="og:image:alt" content="BookForge AI Book Generator Interface">
    <meta property="og:locale" content="en_US">
    
    <!-- Twitter Cards -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="BookForge - Professional AI Non-Fiction Book Generator">
    <meta name="twitter:description" content="Generate professional, research-backed non-fiction books with AI. Create authoritative guides and expert content.">
    <meta name="twitter:image" content="https://bookforge.ink/twitter-image.jpg">
    <meta name="twitter:image:alt" content="BookForge AI Book Generator Interface">
    <meta name="twitter:creator" content="@bookforge">
    <meta name="twitter:site" content="@bookforge">
    
    <!-- Favicons and App Icons -->
    <link rel="icon" href="/favicon.ico" sizes="any">
    <link rel="icon" href="/favicon.svg" type="image/svg+xml">
    <link rel="apple-touch-icon" href="/apple-touch-icon.png">
    <link rel="manifest" href="/manifest.json">
    
    <!-- Theme and App Appearance -->
    <meta name="theme-color" content="#1E40AF">
    <meta name="msapplication-TileColor" content="#1E40AF">
    <meta name="msapplication-config" content="/browserconfig.xml">
    
    <!-- Performance Optimization -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="preconnect" href="https://cdnjs.cloudflare.com">
    <link rel="dns-prefetch" href="https://www.googletagmanager.com">
    
    <!-- Stylesheet -->
    <link rel="stylesheet" href="styles.css">
    
    <!-- Structured Data -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "WebApplication",
        "name": "BookForge",
        "description": "Professional AI-powered non-fiction book generator that creates research-backed, authoritative content for business, self-help, and educational books.",
        "url": "https://bookforge.ink/",
        "applicationCategory": "ProductivityApplication",
        "operatingSystem": "Web Browser",
        "offers": {
            "@type": "Offer",
            "price": "0",
            "priceCurrency": "USD"
        },
        "creator": {
            "@type": "Organization",
            "name": "BookForge",
            "url": "https://bookforge.ink/"
        },
        "featureList": [
            "AI-powered content generation",
            "Research-backed writing",
            "Professional templates",
            "Multiple export formats",
            "Chapter-by-chapter interface",
            "Project management"
        ]
    }
    </script>

    <!-- Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-XJ1NKGG33E"></script>
    <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-XJ1NKGG33E');
    </script>

</head>
<body data-theme="professional">
    <!-- Load Application Script -->
    <script src="script.js"></script>
    <div class="app-container">
        <!-- Header -->
        <header class="header">
            <div class="header-content">
                <div class="header-left">
                    <h1 class="app-title">BookForge</h1>
                    <p class="app-subtitle">Professional Non-Fiction Book Generator</p>
                </div>
                <div class="header-actions">
                    <select id="theme-select" class="theme-selector" onchange="changeTheme()">
                        <option value="professional">Professional</option>
                        <option value="light">Light</option>
                        <option value="dark">Dark</option>
                    </select>
                    <button class="btn btn-secondary btn-sm" onclick="showSettings()">
                        <i class="fas fa-cog"></i>
                        Settings
                    </button>
                    <button class="btn btn-secondary btn-sm" onclick="showHelp()">
                        <i class="fas fa-question-circle"></i>
                        Help
                    </button>
                </div>
            </div>
        </header>

        <!-- Project Bar -->
        <div class="project-bar">
            <div class="project-controls">
                <select id="project-select" class="project-selector" onchange="switchProject()">
                    <option value="current">Current Project</option>
                </select>
                <div class="project-actions">
                    <button class="btn btn-secondary btn-sm" onclick="newProject()">
                        <i class="fas fa-plus"></i>
                        New
                    </button>
                    <button class="btn btn-secondary btn-sm" onclick="saveProject()">
                        <i class="fas fa-save"></i>
                        Save
                    </button>
                    <button class="btn btn-secondary btn-sm" onclick="showProjectManager()">
                        <i class="fas fa-folder-open"></i>
                        Manage
                    </button>
                </div>
            </div>
        </div>

        <!-- Navigation -->
        <nav class="navigation">
            <div class="nav-container">
                <div class="nav-progress">
                    <div class="progress-fill" id="nav-progress"></div>
                </div>
                <div class="nav-items">
                    <button class="nav-item active" onclick="showStep('setup')" id="nav-setup">
                        <i class="nav-icon fas fa-cog"></i>
                        <span class="nav-label">Setup</span>
                    </button>
                    <button class="nav-item" onclick="showStep('research')" id="nav-research">
                        <i class="nav-icon fas fa-search"></i>
                        <span class="nav-label">Research</span>
                    </button>
                    <button class="nav-item" onclick="showStep('chapters')" id="nav-chapters">
                        <i class="nav-icon fas fa-list"></i>
                        <span class="nav-label">Structure</span>
                    </button>
                    <button class="nav-item" onclick="showStep('writing')" id="nav-writing">
                        <i class="nav-icon fas fa-pen"></i>
                        <span class="nav-label">Writing</span>
                    </button>
                    <button class="nav-item" onclick="showStep('export')" id="nav-export">
                        <i class="nav-icon fas fa-download"></i>
                        <span class="nav-label">Export</span>
                    </button>
                </div>
            </div>
        </nav>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Setup Step -->
            <div id="setup" class="step active">
                <div class="step-header">
                    <h2 class="step-title">Book Configuration</h2>
                    <p class="step-description">Define your non-fiction book's parameters and target specifications</p>
                </div>
                <div class="step-content">
                    <div class="form-grid">
                        <div class="form-group">
                            <label for="category">Category</label>
                            <select id="category" onchange="updateSetupFields()">
                                <option value="">Select Category</option>
                                <option value="business-entrepreneurship">Business & Entrepreneurship</option>
                                <option value="self-help-personal-development">Self-Help & Personal Development</option>
                                <option value="health-wellness">Health & Wellness</option>
                                <option value="technology-programming">Technology & Programming</option>
                                <option value="science-education">Science & Education</option>
                                <option value="finance-investment">Finance & Investment</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="target-audience">Target Audience</label>
                            <select id="target-audience" onchange="updateSetupFields()">
                                <option value="">Select Audience</option>
                                <option value="professionals">Professionals</option>
                                <option value="entrepreneurs">Entrepreneurs</option>
                                <option value="students">Students</option>
                                <option value="general-public">General Public</option>
                                <option value="experts">Industry Experts</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="topic">Book Topic</label>
                        <textarea id="topic" placeholder="Describe your book's main topic and focus area..." rows="3" oninput="updateSetupFields()"></textarea>
                    </div>
                    
                    <div class="form-group">
                        <label for="approach">Approach & Methodology</label>
                        <textarea id="approach" placeholder="Describe your writing approach and methodology..." rows="2" oninput="updateSetupFields()"></textarea>
                    </div>
                    
                    <div class="form-grid">
                        <div class="form-group">
                            <label for="num-chapters">Number of Chapters</label>
                            <input type="number" id="num-chapters" min="5" max="30" value="12" onchange="updateSetupFields()">
                        </div>
                        <div class="form-group">
                            <label for="target-word-count">Words per Chapter</label>
                            <input type="number" id="target-word-count" min="500" max="5000" value="2000" onchange="updateSetupFields()">
                        </div>
                    </div>
                    
                    <div class="step-actions">
                        <button class="btn btn-primary btn-lg" onclick="generateRandomIdea()">
                            <i class="fas fa-lightbulb"></i>
                            Generate Idea
                        </button>
                        <button class="btn btn-primary btn-lg" id="setup-next" onclick="showStep('research')" style="display: none;">
                            <i class="fas fa-arrow-right"></i>
                            Continue to Research
                        </button>
                    </div>
                </div>
            </div>

            <!-- Research Step -->
            <div id="research" class="step">
                <div class="step-header">
                    <h2 class="step-title">Research Framework</h2>
                    <p class="step-description">Establish credibility and build a comprehensive research foundation</p>
                </div>
                <div class="step-content">
                    <div class="generation-controls">
                        <div class="controls-row">
                            <button class="btn btn-primary" onclick="generateResearch()">
                                <i class="fas fa-search"></i>
                                Generate Research Plan
                            </button>
                            <button class="btn btn-secondary" onclick="showEditModal('research')">
                                <i class="fas fa-edit"></i>
                                Edit & Improve
                            </button>
                            <button class="btn btn-secondary" onclick="estimateCost('research')">
                                <i class="fas fa-calculator"></i>
                                Cost Estimate
                            </button>
                        </div>
                    </div>
                    
                    <div class="content-area">
                        <h3>Research Framework</h3>
                        <div class="textarea-container">
                            <textarea id="research-content" placeholder="Your research framework will appear here..." rows="15" oninput="updateResearchContent()"></textarea>
                            <div class="word-count" id="research-word-count">0 words</div>
                        </div>
                    </div>
                    
                    <div class="step-actions">
                        <button class="btn btn-secondary" onclick="showStep('setup')">
                            <i class="fas fa-arrow-left"></i>
                            Back to Setup
                        </button>
                        <button class="btn btn-primary btn-lg" id="research-next" onclick="showStep('chapters')" style="display: none;">
                            <i class="fas fa-arrow-right"></i>
                            Continue to Structure
                        </button>
                    </div>
                </div>
            </div>

            <!-- Chapters Step -->
            <div id="chapters" class="step">
                <div class="step-header">
                    <h2 class="step-title">Chapter Structure</h2>
                    <p class="step-description">Create a detailed outline and chapter breakdown</p>
                </div>
                <div class="step-content">
                    <div class="generation-controls">
                        <div class="controls-row">
                            <button class="btn btn-primary" onclick="generateChapterOutline()">
                                <i class="fas fa-list"></i>
                                Generate Chapter Plan
                            </button>
                            <button class="btn btn-secondary" onclick="showEditModal('chapters')">
                                <i class="fas fa-edit"></i>
                                Edit & Improve
                            </button>
                            <button class="btn btn-secondary" onclick="estimateCost('chapters')">
                                <i class="fas fa-calculator"></i>
                                Cost Estimate
                            </button>
                        </div>
                    </div>
                    
                    <div class="content-area">
                        <h3>Chapter Structure & Outline</h3>
                        <div class="textarea-container">
                            <textarea id="chapters-content" placeholder="Your detailed chapter plan will appear here..." rows="15" oninput="updateChaptersContent()"></textarea>
                            <div class="word-count" id="chapters-word-count">0 words</div>
                        </div>
                    </div>
                    
                    <div class="step-actions">
                        <button class="btn btn-secondary" onclick="showStep('research')">
                            <i class="fas fa-arrow-left"></i>
                            Back to Research
                        </button>
                        <button class="btn btn-primary btn-lg" id="chapters-next" onclick="showStep('writing')" style="display: none;">
                            <i class="fas fa-arrow-right"></i>
                            Continue to Writing
                        </button>
                    </div>
                </div>
            </div>

            <!-- Writing Step -->
            <div id="writing" class="step">
                <div class="step-header">
                    <h2 class="step-title">Content Writing</h2>
                    <p class="step-description">Generate and refine your book chapters</p>
                </div>
                <div class="step-content">
                    <div class="generation-controls">
                        <div class="controls-row">
                            <button class="btn btn-primary btn-lg" onclick="generateAllChapters()">
                                <i class="fas fa-magic"></i>
                                Generate All Chapters
                            </button>
                            <button class="btn btn-primary" onclick="generateSelectedChapters()" id="generate-selected-btn" disabled>
                                <i class="fas fa-check-square"></i>
                                Generate Selected (0)
                            </button>
                            <button class="btn btn-secondary" onclick="toggleAllChapters()">
                                <i class="fas fa-eye"></i>
                                Expand/Collapse All
                            </button>
                        </div>
                        <p class="text-muted text-center">Generate content or write directly in the chapter fields below</p>
                    </div>
                    
                    <div class="stats-grid">
                        <div class="stat-card">
                            <div class="stat-value" id="completed-chapters">0</div>
                            <div class="stat-label">Chapters Completed</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-value" id="total-words">0</div>
                            <div class="stat-label">Total Words</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-value" id="estimated-pages">0</div>
                            <div class="stat-label">Estimated Pages</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-value" id="completion-percentage">0%</div>
                            <div class="stat-label">Completion</div>
                        </div>
                    </div>
                    
                    <div id="chapters-container">
                        <!-- Chapters will be dynamically generated -->
                    </div>
                    
                    <div class="step-actions">
                        <button class="btn btn-secondary" onclick="showStep('chapters')">
                            <i class="fas fa-arrow-left"></i>
                            Back to Structure
                        </button>
                        <button class="btn btn-primary btn-lg" onclick="generateBookTitle()">
                            <i class="fas fa-heading"></i>
                            Generate Book Title
                        </button>
                        <button class="btn btn-primary btn-lg" id="writing-next" onclick="showStep('export')">
                            <i class="fas fa-arrow-right"></i>
                            Continue to Export
                        </button>
                    </div>
                </div>
            </div>

            <!-- Export Step -->
            <div id="export" class="step">
                <div class="step-header">
                    <h2 class="step-title">Export & Download</h2>
                    <p class="step-description">Download your completed book in multiple formats</p>
                </div>
                <div class="step-content">
                    <div class="content-area">
                        <h3>Book Summary</h3>
                        <div id="book-summary">
                            <div class="stats-grid">
                                <div class="stat-card">
                                    <div class="stat-value" id="export-chapters">0</div>
                                    <div class="stat-label">Chapters</div>
                                </div>
                                <div class="stat-card">
                                    <div class="stat-value" id="export-words">0</div>
                                    <div class="stat-label">Total Words</div>
                                </div>
                                <div class="stat-card">
                                    <div class="stat-value" id="export-pages">0</div>
                                    <div class="stat-label">Estimated Pages</div>
                                </div>
                                <div class="stat-card">
                                    <div class="stat-value" id="export-category">-</div>
                                    <div class="stat-label">Category</div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="content-area">
                        <h3>Download Options</h3>
                        <div class="controls-row">
                            <button class="btn btn-primary" onclick="downloadBook('txt')">
                                <i class="fas fa-file-text"></i>
                                Download TXT
                            </button>
                            <button class="btn btn-primary" onclick="downloadBook('html')">
                                <i class="fas fa-file-code"></i>
                                Download HTML
                            </button>
                            <button class="btn btn-primary" onclick="downloadBook('md')">
                                <i class="fas fa-markdown"></i>
                                Download Markdown
                            </button>
                            <button class="btn btn-secondary" onclick="copyToClipboard()">
                                <i class="fas fa-copy"></i>
                                Copy to Clipboard
                            </button>
                        </div>
                    </div>
                    
                    <div class="step-actions">
                        <button class="btn btn-secondary" onclick="showStep('writing')">
                            <i class="fas fa-arrow-left"></i>
                            Back to Writing
                        </button>
                        <button class="btn btn-primary btn-lg" onclick="newProject()">
                            <i class="fas fa-plus"></i>
                            Start New Book
                        </button>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- Modals -->
    <div id="loading-overlay" class="loading-overlay">
        <div class="loading-content">
            <div class="spinner"></div>
            <div class="loading-text" id="loading-text">Generating content...</div>
            <div class="loading-description">This may take a few moments</div>
            <div class="step-actions" style="margin-top: var(--spacing-lg);">
                <button class="btn btn-danger" onclick="cancelGeneration()">Cancel</button>
            </div>
        </div>
    </div>

    <!-- Settings Modal -->
    <div id="settings-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">AI Settings</h3>
            </div>
            <div class="form-group">
                <label for="api-provider">AI Provider</label>
                <select id="api-provider" onchange="updateProviderFields()">
                    <option value="openrouter">OpenRouter (Recommended - CORS-friendly)</option>
                    <option value="openai">OpenAI</option>
                </select>
            </div>
            <div class="form-group">
                <label for="api-key">API Key</label>
                <input type="password" id="api-key" placeholder="Enter your API key...">
                <div class="form-help">
                    <small class="text-muted">
                        OpenRouter is recommended for browser use. Get your key at <strong>openrouter.ai</strong>
                    </small>
                </div>
            </div>
            <div class="form-group">
                <label for="model-select">Model</label>
                <select id="model-select">
                    <option value="gpt-4">GPT-4</option>
                    <option value="gpt-3.5-turbo">GPT-3.5 Turbo</option>
                </select>
            </div>
            <div class="modal-actions">
                <button class="btn btn-secondary" onclick="closeSettings()">Cancel</button>
                <button class="btn btn-primary" onclick="saveSettings()">Save Settings</button>
            </div>
        </div>
    </div>

    <!-- Edit Modal -->
    <div id="edit-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">Edit & Improve Content</h3>
            </div>
            <div class="form-group">
                <label for="edit-mode">Edit Mode</label>
                <select id="edit-mode">
                    <option value="ai">AI Analysis & Improvement</option>
                    <option value="manual">Manual Feedback</option>
                </select>
            </div>
            <div class="form-group" id="manual-feedback-group" style="display: none;">
                <label for="manual-feedback">Your Feedback</label>
                <textarea id="manual-feedback" placeholder="Describe what you want to improve..." rows="4"></textarea>
            </div>
            <div class="form-group">
                <label for="feedback-loops">Number of Improvement Cycles</label>
                <input type="number" id="feedback-loops" min="1" max="5" value="1">
            </div>
            <div class="modal-actions">
                <button class="btn btn-secondary" onclick="closeEditModal()">Cancel</button>
                <button class="btn btn-primary" onclick="runImprovement()">Apply Improvements</button>
            </div>
        </div>
    </div>
</body>
</html>